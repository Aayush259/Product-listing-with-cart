import{j as e,u as b,r as a,a as v,L as C}from"./index-CT5tn-Fk.js";const y="/Product-listing-with-cart/assets/icon-add-to-cart-C2LljQxh.svg",N="/Product-listing-with-cart/assets/icon-increment-quantity-CnHpTk9T.svg",I="/Product-listing-with-cart/assets/icon-decrement-quantity-BGBSreHq.svg";function $({addedInCartCount:s,addItemToCart:n,removeItemFromCart:d}){return e.jsx(e.Fragment,{children:s<=0?e.jsxs("button",{className:"flex items-center min-w-36 gap-2 border border-rose400 py-3 px-5 mx-auto -translate-y-1/2 rounded-3xl bg-rose50 hover:text-redGiven hover:border-redGiven",onClick:n,children:[e.jsx("img",{src:y,alt:"Add to cart"}),e.jsx("span",{children:"Add to Cart"})]}):e.jsxs("div",{className:"flex items-center justify-between w-36 py-3 px-5 mx-auto -translate-y-1/2 rounded-3xl bg-redGiven border border-redGiven text-rose50",children:[e.jsx("button",{className:"flex items-center justify-center rounded-full border border-rose50 h-5 w-5 p-1 hover:opacity-65",onClick:d,children:e.jsx("img",{src:I,alt:"Decrease quantity",className:"w-full"})}),e.jsx("span",{children:s}),e.jsx("button",{className:"flex items-center justify-center rounded-full border border-rose50 h-5 w-5 p-1 hover:opacity-65",onClick:n,children:e.jsx("img",{src:N,alt:"Increase quantity",className:"w-full"})})]})})}function D({dessertItem:s}){const n=s.name,d=s.category,i=s.price,l=s.image.thumbnail,o="/Product-listing-with-cart/assets",{cartItems:r,setCartItems:f}=b(),[c,m]=a.useState(0);a.useEffect(()=>{[...r].findIndex(x=>x.name===n)<0&&m(0)},[r]),a.useEffect(()=>{const t=[...r],u=t.findIndex(x=>x.name===n);u>=0?t[u]={name:n,price:i,count:c,thumbnail:`${o}${l}`}:c>0&&t.push({name:n,price:i,count:c,thumbnail:`${o}${l}`}),f(t)},[c]);const h=t=>t>=1024?`${o}${s.image.desktop}`:t>=768?`${o}${s.image.tablet}`:`${o}${s.image.mobile}`,[g,j]=a.useState(h(window.innerWidth));a.useEffect(()=>{const t=()=>{j(h(window.innerWidth))};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[]);const p=()=>{m(t=>t+1)},w=()=>{m(t=>t-1)};return e.jsxs("div",{className:"w-52 max-w-[90vw] mx-4 my-4",children:[e.jsx("img",{src:g,alt:n,className:`rounded-lg w-full border-2 ${c>0?"border-redGiven":"border-transparent"}`}),e.jsx($,{addedInCartCount:c,addItemToCart:p,removeItemFromCart:w}),e.jsxs("div",{children:[e.jsx("p",{className:"text-rose500 text-sm -mt-2",children:d}),e.jsx("p",{className:"text-rose900 font-semibold",children:n}),e.jsxs("p",{className:"text-redGiven font-semibold",children:["$",i.toFixed(2)]})]})]})}function E(){return e.jsxs("div",{className:"sm:w-[40vw] w-[100vw] text-redGiven font-semibold",children:[e.jsx("p",{className:"text-2xl mt-8",children:"Something went wrong"}),e.jsx("p",{className:"text-xl",children:"Try refreshing the page!!"})]})}function L(){const{dessertData:s,setDessertData:n}=v(),[d,i]=a.useState(!0),[l,o]=a.useState(!1);return a.useEffect(()=>{fetch("/Product-listing-with-cart/data.json").then(r=>r.json()).then(r=>{n(r),i(!1)}).catch(r=>{console.log(r),o(!0),i(!1)})},[]),e.jsxs("div",{className:"max-w-[750px]",children:[e.jsx("h1",{className:"ml-14 mr-14 mb-3 text-rose900 text-3xl font-bold",children:"Desserts"}),e.jsx("div",{className:"flex flex-wrap relative justify-center min-w-10",children:d?e.jsx(C,{height:"100vh"}):l?e.jsx(E,{}):s.map(r=>e.jsx(D,{dessertItem:r},r.name))})]})}export{L as default};
//# sourceMappingURL=DessertContainer-DK3JqWsb.js.map
