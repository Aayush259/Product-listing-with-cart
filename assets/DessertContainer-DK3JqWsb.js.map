{"version":3,"file":"DessertContainer-DK3JqWsb.js","sources":["../../src/images/icon-add-to-cart.svg","../../src/images/icon-increment-quantity.svg","../../src/images/icon-decrement-quantity.svg","../../src/components/AddToCartButton.jsx","../../src/components/DessertCard.jsx","../../src/components/Error.jsx","../../src/components/DessertContainer.jsx"],"sourcesContent":["export default \"__VITE_ASSET__DXfqyfHH__\"","export default \"__VITE_ASSET__CIXwinkz__\"","export default \"__VITE_ASSET__RDZ5yN8q__\"","import React from 'react';\nimport addToCartIcon from '../images/icon-add-to-cart.svg';\nimport incrementIcon from '../images/icon-increment-quantity.svg';\nimport decrementIcon from '../images/icon-decrement-quantity.svg';\n\nexport default function AddToCartButton({ addedInCartCount, addItemToCart, removeItemFromCart }) {\n\n    return (\n        <>\n            {\n                addedInCartCount <= 0 ? <button className=\"flex items-center min-w-36 gap-2 border border-rose400 py-3 px-5 mx-auto -translate-y-1/2 rounded-3xl bg-rose50 hover:text-redGiven hover:border-redGiven\" onClick={addItemToCart}>\n\n                    <img src={addToCartIcon} alt=\"Add to cart\" />\n                    <span>Add to Cart</span>\n\n                </button> : <div className=\"flex items-center justify-between w-36 py-3 px-5 mx-auto -translate-y-1/2 rounded-3xl bg-redGiven border border-redGiven text-rose50\">\n\n                    <button className=\"flex items-center justify-center rounded-full border border-rose50 h-5 w-5 p-1 hover:opacity-65\" onClick={removeItemFromCart}>\n                        <img src={decrementIcon} alt=\"Decrease quantity\" className=\"w-full\" />\n                    </button>\n\n                    <span>{addedInCartCount}</span>\n\n                    <button className=\"flex items-center justify-center rounded-full border border-rose50 h-5 w-5 p-1 hover:opacity-65\" onClick={addItemToCart}>\n                        <img src={incrementIcon} alt=\"Increase quantity\" className=\"w-full\" />\n                    </button>\n\n                </div>\n            }\n        </>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useCartData } from '../context/CartDataContext.jsx';\nimport AddToCartButton from './AddToCartButton.jsx';\n\nexport default function DessertCard({ dessertItem }) {\n\n    // Getting dessert details.\n    const dessertName = dessertItem['name'];\n    const dessertCategory = dessertItem['category'];\n    const dessertPrice = dessertItem['price'];\n    const dessertThumbnail = dessertItem['image']['thumbnail'];\n    const baseURL = '/Product-listing-with-cart/assets';\n\n    // Getting cartItems and its setter function from cart data context.\n    const { cartItems, setCartItems } = useCartData();\n\n    // State for item count in cart.\n    const [countInCart, setCountInCart] = useState(0);\n\n    // When cartItems array is changed, this useEffect will check whether the current dessert is present in cartItems. If it is not present, then count of that dessert is 0 in cart.\n    useEffect(() => {\n\n        // Copy of cart items.\n        const cartItemsCopy = [...cartItems];\n\n        // Getting index of current dessert in cartItemsCopy.\n        const currentItemIndex = cartItemsCopy.findIndex(item => (item['name'] === dessertName));\n\n        // If current dessert is not present, then set the count of current dessert to 0.\n        if (currentItemIndex < 0) {\n            setCountInCart(0);\n        };\n\n    }, [cartItems]);\n\n    // When count of dessert item in cart is changed, update it in the cartItems context.\n    useEffect(() => {\n\n        // Copy of cart items array.\n        const updatedCartItems = [...cartItems];\n\n        // Getting index of that dessert item, whose count is changed (it is removed or added to cart).\n        const indexOfDessertItem = updatedCartItems.findIndex(item => (item['name'] === dessertName));\n\n        // If the dessert item is present already in cart, then increase it's count, else if the count of the dessert item is greater than 0, then add this item in the updatedCartItems array.\n        if (indexOfDessertItem >= 0) {\n            updatedCartItems[indexOfDessertItem] = {\n                name: dessertName,\n                price: dessertPrice,\n                count: countInCart,\n                thumbnail: `${baseURL}${dessertThumbnail}`\n            };\n        } else if (countInCart > 0) {\n            updatedCartItems.push({\n                name: dessertName,\n                price: dessertPrice,\n                count: countInCart,\n                thumbnail: `${baseURL}${dessertThumbnail}`\n            });\n        }\n\n        // Update the original cartItems array.\n        setCartItems(updatedCartItems);\n\n    }, [countInCart]);\n\n    // This function returns the dessert image src based on given width.\n    const getImageURL = (width) => {\n\n        if (width >= 1024) {\n            return `${baseURL}${dessertItem['image']['desktop']}`;\n        } else if (width >= 768) {\n            return `${baseURL}${dessertItem['image']['tablet']}`;\n        } else {\n            return `${baseURL}${dessertItem['image']['mobile']}`;\n        }\n    };\n\n    // State for dessertImage src.\n    const [dessertImage, setDessertImage] = useState(getImageURL(window.innerWidth));\n\n    useEffect(() => {\n\n        // This function updates the dessert image based on window's innerWidth.\n        const handleWidthResize = () => {\n            setDessertImage(getImageURL(window.innerWidth));\n        };\n\n        // Adding event listener to window so that when screen size is changed, it updates the dessert image.\n        window.addEventListener('resize', handleWidthResize);\n\n        // Cleanup the event listener when the component unmounts.\n        return () => {\n            window.removeEventListener('resize', handleWidthResize);\n        };\n    }, []);\n\n    // This function increase the number of items in cart.\n    const addItemToCart = () => {\n        setCountInCart(prevCount => prevCount + 1);\n    };\n\n    // This function reduce the number of items in cart.\n    const removeItemFromCart = () => {\n        setCountInCart(prevCount => prevCount - 1);\n    };\n\n    return (\n        <div className=\"w-52 max-w-[90vw] mx-4 my-4\">\n            <img src={dessertImage} alt={dessertName} className={`rounded-lg w-full border-2 ${countInCart > 0 ? \"border-redGiven\" : \"border-transparent\"}`} />\n\n            <AddToCartButton addedInCartCount={countInCart} addItemToCart={addItemToCart} removeItemFromCart={removeItemFromCart} />\n\n            <div>\n                <p className=\"text-rose500 text-sm -mt-2\">{dessertCategory}</p>\n                <p className=\"text-rose900 font-semibold\">{dessertName}</p>\n                <p className=\"text-redGiven font-semibold\">${dessertPrice.toFixed(2)}</p>\n            </div>\n        </div>\n    );\n};\n","import React from 'react';\n\nexport default function Error() {\n\n    return (\n        <div className=\"sm:w-[40vw] w-[100vw] text-redGiven font-semibold\">\n            <p className=\"text-2xl mt-8\">Something went wrong</p>\n            <p className=\"text-xl\">Try refreshing the page!!</p>\n        </div>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useDessertContext } from '../context/DessertDataContext.jsx';\nimport DessertCard from './DessertCard.jsx';\nimport Error from './Error.jsx';\nimport Loader from './Loader.jsx';\n\nexport default function DessertContainer() {\n\n    // Getting dessertData and its setter function from DessertContext.\n    const { dessertData, setDessertData } = useDessertContext();\n\n    // States for loading (fetching data) and error.\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n\n    // Fetching dessertData from data.json file and updating the data in the dessertData state.\n    useEffect(() => {\n\n        fetch('/Product-listing-with-cart/data.json')\n        .then(response => response.json())\n        .then(data => {\n            setDessertData(data);\n            setLoading(false);\n        })\n        .catch(err => {\n            console.log(err);\n            setError(true);\n            setLoading(false);\n        })\n\n    }, []);\n\n    return (\n        <div className=\"max-w-[750px]\">\n            <h1 className=\"ml-14 mr-14 mb-3 text-rose900 text-3xl font-bold\">Desserts</h1>\n            <div className=\"flex flex-wrap relative justify-center min-w-10\">\n                {\n                    loading ? (\n                        <Loader height={'100vh'} />\n                    ) : error ? (\n                        <Error />\n                    ) : (\n                        dessertData.map(dessert => <DessertCard key={dessert['name']} dessertItem={dessert} />)\n                    )\n                }\n            </div>\n        </div>\n    );\n};\n"],"names":["addToCartIcon","incrementIcon","decrementIcon","AddToCartButton","addedInCartCount","addItemToCart","removeItemFromCart","jsx","Fragment","jsxs","DessertCard","dessertItem","dessertName","dessertCategory","dessertPrice","dessertThumbnail","baseURL","cartItems","setCartItems","useCartData","countInCart","setCountInCart","useState","useEffect","item","updatedCartItems","indexOfDessertItem","getImageURL","width","dessertImage","setDessertImage","handleWidthResize","prevCount","Error","DessertContainer","dessertData","setDessertData","useDessertContext","loading","setLoading","error","setError","response","data","err","Loader","dessert"],"mappings":"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"}